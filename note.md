# 考察

## 2/18

面白い！
方針が難しい

- 探索結果をどのように活かすか
- 距離が近い家を先に水源に繋ぐのが良さそう
    - 後の方で繋ぐ家は、水源ではなく、すでに水が流れている箇所に繋げば良い
    - 最初の方につなぐ時は、その後の家との近さを考慮するとより良い

- 最初に何箇所か叩くのは有効そう
    - 格子状に点を打って頑丈さを調べ、そこから最短経路問題を解く
    - 間は平均とかで補完する
    - W, Kが小さい時は意味なさそう

- 家と水源の繋げ方を最適化する
- 繋げる点と点の間を上手く掘る

- 勾配を考える必要がありそう
    - 硬さがどのように変化したかを考慮する

- Cは一旦考えずに、最後に調整する

- [5, 10]マスずつ飛びながら探索する
    - 閾値を決めて移動可能な箇所を求める
        - 道が見つからなかったら、閾値を上げて再度探索する
        - 使うパワーは、`(閾値 - 現在のダメージ)`
- 割る時は周りの平均より少し大きい値を使う
    - Cが大きいと2度割るのが勿体無いので、後でCの値に応じて調整する
    - 勾配を使えると良さそう
    - 隣のセルよりめっちゃ大きくなることはなさそう
        - 勾配を使いたい
- やばい繋げ方を回避するためには
    - 複数繋げ方を用意する
    - 接続先の頂点の硬さを事前に調べておく
        - 硬すぎる点は含めない
- 少し迂回した方が良い場合を補足するためには
    - DFSの範囲を少し広げる

- どんどん細分化するのが賢そう
- すでに硬いところにある家は大丈夫?
    - 反比例しているらしい

1. 家と水源の繋げ方を決定する
    1. 各水源、家から、上下左右に20pずつ動かした点を頂点として作成する
    2. 作成した頂点の間に辺を張る
    3. 連結性を保つ初期解を作成する
    4. 連結性を保ちながら、最適な繋げ方を焼きなましで求める
2. 1.で作成した辺の間を繋げる
    1. 閾値を決めたDFSをする

- どんどん間隔を狭めていく

## 2/19

- 十分コストが低ければ探索せずに繋げる
    - 再探索するコストと、現状で繋げてしまうコストの概算を比較する

### 解法概要

1. およそ等間隔のxs, ysを作る
2. グリッド上に点を作成し、硬さを調べる
    - 硬さを調べるときの強さ
3. 辺を間に引く
    - 頂点対を全て調べ、隣接していて、距離が一定以下の頂点を結ぶ
4. 辺の引き方を焼く
    - 複数解を作ると、多様化される
5. 作成した辺の周りに点を新しく作り、硬さを調べる
    - xsとysを管理し、近くに点を作らないようにする
6. 3.に戻る

### 点と点の間の繋ぎ方

1. 辺の両端の頂点の硬さの平均で割る
    - 凹凸だったら変えた方が良い

### 焼き方

（山登りで良さそう）

- 初期解を作る
    - 多点スタートすると良さそう
- 近傍
    - 1点を始点としたDFSによって、どこかの水源にぶつかるまでの最小のパスを見つける
- 状態
    - 辺に水が流れているかどうか

### グラフの持ち方

- 頂点集合
- 辺集合
- 各頂点から出ている辺

### グラフの作り方

- 頂点対を全て調べ、隣接していて、距離が一定以下の頂点を結ぶ

- ビームサーチは?